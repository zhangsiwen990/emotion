<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æƒ…ç»ªç®¡ç†å™¨</title>
<style>
  #emotionManager {
    text-align: center;
    margin-top: 50px;
  }

  #negativeEmotionBtn {
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    background-color: #f0f0f0;
    border: 1px solid #ccc;
    border-radius: 5px;
  }

  .disabled {
    background-color: #ccc;
    cursor: not-allowed;
  }

  .progress-container {
    width: 100%;
    background-color: #ddd;
    border-radius: 5px;
    margin: 20px 0;
    overflow: hidden;
  }

  .progress-bar {
    height: 20px;
    background-color: red;
    width: 0%;
    border-radius: 5px;
    transition: width 0.5s ease-in-out;
  }

  .face {
    max-width: 100%;
    height: auto;
    display: none; /* é»˜è®¤ä¸æ˜¾ç¤º */
    margin-top: 20px;
  }

  .tissue {
    font-size: 48px; /* è®¾ç½®çº¸å·¾å­—ä½“å¤§å° */
    color: #ffcc00; /* çº¸å·¾é¢œè‰² */
    cursor: grab;
    display: none; /* é»˜è®¤ä¸æ˜¾ç¤º */
    margin-top: 20px;
  }

  .prompt-text {
    display: none;
    font-size: 20px;
    color: #555;
  }
</style>
</head>
<body>

<div id="emotionManager">
  <h2>æƒ…ç»ªç®¡ç†å™¨</h2>
  <button id="negativeEmotionBtn">å¢åŠ è´Ÿé¢æƒ…ç»ª</button>
  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>
  <div class="face" id="emotionFace"></div>
  <div class="tissue" id="tissue" draggable="true">ğŸ§»</div>
  <p class="prompt-text" id="promptText"></p>
  <p id="moodText"></p>
</div>

<script>
  let negativeEmotion = 0;
  const progressBar = document.getElementById('progressBar');
  const emotionFace = document.getElementById('emotionFace');
  const tissue = document.getElementById('tissue');
  const negativeEmotionBtn = document.getElementById('negativeEmotionBtn');
  const promptText = document.getElementById('promptText');
  const moodText = document.getElementById('moodText');

  const moodImages = [
    '', 
    'https://www.helloimg.com/i/2024/12/17/676128b0c5dba.jpg',
    'https://www.helloimg.com/i/2024/12/17/676128b0c2ac7.jpg',
    'https://www.helloimg.com/i/2024/12/17/676128b0ddfe7.jpg',
    'https://www.helloimg.com/i/2024/12/17/676128b0f23ec.jpg',
    'https://www.helloimg.com/i/2024/12/17/676128b0ecbec.jpg',
    'https://www.helloimg.com/i/2024/12/17/676128b42f43c.jpg',
    'https://www.helloimg.com/i/2024/12/17/676128b455ae6.jpg',
    'https://www.helloimg.com/i/2024/12/17/676128b463e2a.jpg',
    'https://www.helloimg.com/i/2024/12/17/676128b4793fe.jpg',
    'https://www.helloimg.com/i/2024/12/17/676128b4c1a58.jpg'
  ];

  const moodMessages = [
    '', 
    'å“å‘€ï¼Œä»Šå¤©å¤©æ°”ä¸é”™ï¼Œä½ çš„å¿ƒæƒ…ä¹Ÿè¦è·Ÿç€é˜³å…‰èµ·æ¥å“¦ï¼Œæ¯•ç«Ÿâ€˜cityä¸cityâ€™çš„ä½ ï¼Œå¯æ˜¯æ½®æµçš„é£å‘æ ‡å‘¢ï¼',
    'åˆ«éš¾è¿‡äº†ï¼Œä½ çš„ç¬‘ç‚¹é‚£ä¹ˆä½ï¼Œéšä¾¿ä¸€ä¸ªâ€˜ææŠ½è±¡â€™çš„æ¢—å°±èƒ½æŠŠä½ é€—ç¬‘ï¼Œä¸æ˜¯å—ï¼Ÿ',
    'å¬è¯´â€˜å·æ„Ÿå¾ˆé‡â€™çš„äººè¿æ°”éƒ½ä¸ä¼šå¤ªå·®ï¼Œä½ è¿™ä¹ˆä½è°ƒå¥¢åæœ‰å†…æ¶µï¼Œå¥½è¿è‚¯å®šåœ¨æ’é˜Ÿç­‰ä½ å‘¢ã€‚',
    'é‚£å’‹äº†ï¼Ÿå°é—®é¢˜å•¦ï¼Œä½ è¿™ä¹ˆèªæ˜ä¼¶ä¿ï¼Œè¿™ç‚¹å°æŒ«æŠ˜ç®—ä»€ä¹ˆï¼Œåˆ†åˆ†é’Ÿæå®šï¼',
    'åˆ«ä½å¤´ï¼Œä½ çš„â€˜è‰å°ç­å­â€™å¯æ˜¯æ½œåŠ›è‚¡ï¼Œè¯´ä¸å®šå“ªå¤©å°±å¤§æ”¾å¼‚å½©ï¼Œè®©äººåˆ®ç›®ç›¸çœ‹å‘¢ï¼',
    'â€˜ç­å‘³â€™çš„äººç”Ÿï¼Œå°±æ˜¯è¦æœ‰æ»‹æœ‰å‘³ï¼Œå¶å°”çš„å°ä½è½ï¼Œå°±å½“æ˜¯ç»™ç”Ÿæ´»åŠ ç‚¹æ–™ï¼Œè°ƒå‰‚ä¸€ä¸‹å˜›ã€‚',
    'â€˜æ²¡äº‹å“’æ²¡äº‹å“’â€™ï¼Œä½ è¿™ä¹ˆå¯çˆ±ï¼Œè¿çƒ¦æ¼éƒ½è¦ç»•é“èµ°ï¼Œåˆ«è®©å®ƒä»¬å½±å“äº†ä½ çš„å¥½å¿ƒæƒ…å“¦ã€‚',
    'â€˜çº¢æ¸©â€™çš„äººç”Ÿï¼Œå°±æ˜¯è¦çƒ­æƒ…å¦‚ç«ï¼Œå°±ç®—æ˜¯æš‚æ—¶çš„ä½æ½®ï¼Œä¹ŸæŒ¡ä¸ä½ä½ çš„å…‰èŠ’å››å°„ã€‚',
    'â€˜æ³¼å¤©çš„å¯Œè´µâ€™ï¼Œä½ çš„å¥½è¿å°±åƒè¿™å››ä¸ªå­—ä¸€æ ·ï¼Œå¤šåˆ°æ³¼å¤©ï¼Œåªæ˜¯è¿˜æ²¡æ¥å¾—åŠæ¥ä½è€Œå·²ã€‚',
    'â€˜å·²è€å®æ±‚æ”¾è¿‡â€™ï¼Œä½†ç”Ÿæ´»çŸ¥é“ä½ çš„æ½œåŠ›ï¼Œæ‰€ä»¥å¶å°”ç»™ä½ ç‚¹å°æŒ‘æˆ˜ï¼Œè®©ä½ å˜å¾—æ›´å¼ºå¤§ï¼ŒåŠ æ²¹å“¦ï¼'
  ];

  negativeEmotionBtn.addEventListener('click', () => {
    if (negativeEmotion === 10) {
      alert('å®‰æ…°ä¸€ä¸‹ä»Šå¤©çš„è‡ªå·±å§ï¼');
    } else {
      negativeEmotion++;
      updateProgressBar();
      updateEmotionFace();
      updateMoodText();
    }
  });

  function updateProgressBar() {
    progressBar.style.width = `${negativeEmotion * 10}%`;
  }

  function updateEmotionFace() {
    if (negativeEmotion <= 10) {
      emotionFace.innerHTML = `<img src="${moodImages[negativeEmotion]}" alt="Mood" style="max-width: 100%; height: auto;" />`;
      emotionFace.style.display = 'block';
    }
    if (negativeEmotion === 10) {
      tissue.style.display = 'block';
      negativeEmotionBtn.classList.add('disabled');
      negativeEmotionBtn.disabled = true;
    } else {
      tissue.style.display = 'none';
      negativeEmotionBtn.classList.remove('disabled');
      negativeEmotionBtn.disabled = false;
    }
  }

  function updateMoodText() {
    moodText.textContent = moodMessages[negativeEmotion];
    moodText.style.display = negativeEmotion > 0 ? 'block' : 'none';
  }

  document.body.addEventListener('dragover', (e) => {
    e.preventDefault();
  });

  document.body.addEventListener('drop', (e) => {
    e.preventDefault();
    if (e.target.id === 'emotionFace' && negativeEmotion === 10) {
      negativeEmotion = 0;
      updateProgressBar();
      updateEmotionFace();
      tissue.style.display = 'none';
      promptText.style.display = 'block';
      promptText.textContent = 'æ²¡äº‹å“’ï¼Œæ²¡äº‹å“’ï¼Œæ²¡äº‹å“’';
    }
  });

  tissue.addEventListener('dragstart', (e) => {
    e.dataTransfer.setData("text/plain", null);
  });
</script>

</body>
</html>
